# üêõ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ë–∞–≥ —Å initData

## üìä –°—Ç–∞—Ç—É—Å: ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Vercel

### –ü—Ä–æ–±–ª–µ–º–∞
`initData` –ø—É—Å—Ç–æ–π –¥–∞–∂–µ –ø–æ—Å–ª–µ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –∏–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π GitHub Pages.

### –†–µ—à–µ–Ω–∏–µ
**Vercel** - –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Telegram WebApp API.

---

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

### ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:
1. **`webapp/vercel.json`** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –¥–ª—è Vercel
2. **`webapp/next.config.js`** - –£–ø—Ä–æ—â–µ–Ω –¥–ª—è Vercel
3. **`webapp/.env.local`** - API URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω
4. **`MIGRATION_TO_VERCEL.md`** - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
5. **`webapp/VERCEL_SETUP.md`** - –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### ‚úÖ –£–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. **`.env`** - CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –±—ç–∫–µ–Ω–¥–∞
2. **`rating.js`** - –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
3. **`webapp/lib/api.ts`** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ TypeScript –æ—à–∏–±–∫–∞
4. **`webapp/app/page.tsx`** - –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
5. **`check-config.js`** - –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å (5 —à–∞–≥–æ–≤):

### –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ Vercel (2 –º–∏–Ω)
- –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ **vercel.com**
- –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ **GitHub**

### –®–∞–≥ 2: –ò–º–ø–æ—Ä—Ç –ø—Ä–æ–µ–∫—Ç–∞ (3 –º–∏–Ω)
- **Import Git Repository** ‚Üí `telegram-bot-workshop`
- **Framework**: Next.js
- **Root Directory**: `/webapp`
- **Environment Variables**: `NEXT_PUBLIC_API_BASE_URL=https://service.monopiter.ru`
- **Deploy**

### –®–∞–≥ 3: –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π URL (1 –º–∏–Ω)
- –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è: `https://your-project.vercel.app`
- **–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å URL**

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç—å BotFather (3 –º–∏–Ω)
- `@BotFather` ‚Üí –í–∞—à –±–æ—Ç ‚Üí **Bot Settings** ‚Üí **Menu Button** ‚Üí **Edit Web App**
- –í—Å—Ç–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π URL
- **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å**

### –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (4 –º–∏–Ω)
- –û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞ –≤ Telegram
- –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É Mini App
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å (F12)
- **–£—Å–ø–µ—Ö**: `[DEBUG] Telegram WebApp initialized`

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ö–æ—Å—Ç–∏–Ω–≥–æ–≤:

| –•–æ—Å—Ç–∏–Ω–≥ | WebApp API | –ó–∞–≥–æ–ª–æ–≤–∫–∏ | –°—Ç–æ–∏–º–æ—Å—Ç—å | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|---------|------------|-----------|-----------|-----------|
| **GitHub Pages** | ‚ùå –ù–µ—Ç | ‚ùå –ù–µ—Ç | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ | –ü—Ä–æ—Å—Ç–æ |
| **Vercel** | ‚úÖ –î–∞ | ‚úÖ –î–∞ | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ | –°—Ä–µ–¥–Ω–µ |
| **Cloudflare** | ‚úÖ –î–∞ | ‚úÖ –î–∞ | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ | –°–ª–æ–∂–Ω–æ |

---

## üöÄ –ü–æ—á–µ–º—É Vercel - –ª—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ:

1. **–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç** —Å Telegram WebApp API
2. **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ** –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω (50GB —Ç—Ä–∞—Ñ–∏–∫–∞/–º–µ—Å—è—Ü)
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π** –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ GitHub
4. **–ü—Ä–æ—Å—Ç–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** —á–µ—Ä–µ–∑ `vercel.json`
5. **–û—Ç–ª–∏—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É

---

## üìã –§–∞–π–ª—ã –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏:

### –í –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
- ‚úÖ `MIGRATION_TO_VERCEL.md` - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- ‚úÖ `FINAL_REPORT.md` - –≠—Ç–æ—Ç —Ñ–∞–π–ª

### –í webapp/:
- ‚úÖ `vercel.json` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vercel
- ‚úÖ `next.config.js` - –û–±–Ω–æ–≤–ª–µ–Ω
- ‚úÖ `.env.local` - API URL
- ‚úÖ `VERCEL_SETUP.md` - –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

---

## üéØ –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏:

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—Å—è:
- **URL**: `delmmv.github.io/...` ‚Üí `your-project.vercel.app`
- **initData**: ‚ùå –ü—É—Å—Ç–æ–π ‚Üí ‚úÖ –ü–µ—Ä–µ–¥–∞–µ—Ç—Å—è
- **Telegram API**: ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **–ó–∞–≥–æ–ª–æ–≤–∫–∏**: ‚ùå –ù–µ—Ç ‚Üí ‚úÖ –î–∞

### –ß—Ç–æ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º:
- ‚úÖ –ë—ç–∫–µ–Ω–¥ (`service.monopiter.ru`)
- ‚úÖ –ë–æ—Ç (@your_bot)
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (MongoDB)
- ‚úÖ –í–µ—Å—å –∫–æ–¥

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞:

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã:
1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Vercel**: Dashboard ‚Üí Logs
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞**: F12 ‚Üí Console
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ BotFather**: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π URL?
4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: –ó–∞–∫—Ä–æ–π—Ç–µ –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ Telegram

---

## ‚úÖ –ò—Ç–æ–≥:

**–ü—Ä–æ–±–ª–µ–º–∞**: GitHub Pages –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Telegram WebApp API  
**–†–µ—à–µ–Ω–∏–µ**: –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Vercel (15 –º–∏–Ω—É—Ç)  
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: `initData` –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–í—Å–µ —Ñ–∞–π–ª—ã –≥–æ—Ç–æ–≤—ã! –û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ Vercel –∏ –æ–±–Ω–æ–≤–∏—Ç—å BotFather.** üöÄ