(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70625,e=>{"use strict";e.i(24326);var s=e.i(40014),t=e.i(34559);let a=new Set(["localhost","127.0.0.1","::1"]),r=function(e){if(!e)return"";try{let s=new URL(e),t=a.has(s.hostname);return!s.port&&t&&(s.port=String(5800)),s.toString().replace(/\/$/,"")}catch(s){return e}}("https://service.monopiter.ru");async function n(e,s={},t){let a;if(!r){let e="API base URL is not configured. Check NEXT_PUBLIC_API_BASE_URL in webapp/.env.local";throw console.error("[API] âŒ",e),Error(e)}let l=(a=new URL(e,r),t&&Object.entries(t).forEach(([e,s])=>{void 0!==s&&""!==s&&a.searchParams.set(e,String(s))}),a.toString()),i={"Content-Type":"application/json",...s.headers??{}},o=i["X-Telegram-Init-Data"];console.log("[API] ğŸš€ Request:",{url:l,method:s.method||"GET",hasInitData:!!o,initDataLength:o?o.length:0});try{let e=await fetch(l,{...s,headers:i});if(console.log("[API] Response:",{status:e.status,statusText:e.statusText,ok:e.ok}),!e.ok){let s=await e.json().catch(()=>({error:"Failed to parse error response"}));if(console.error("[API] âŒ Error response:",s),401===e.status)throw Error("401: Unauthorized - Invalid or expired initData");if(403===e.status)throw Error("403: Forbidden - Access denied");if(404===e.status)throw Error("404: Not found - API endpoint does not exist");else if(e.status>=500)throw Error(`${e.status}: Server error - Please try again later`);throw Error(s?.error||`API error ${e.status}`)}let t=await e.json();return console.log("[API] âœ… Success:",{data:t}),t}catch(e){if(e instanceof Error){if(e.message.includes("Failed to fetch"))throw console.error("[API] âŒ Network error - Cannot reach API server"),console.error("[API] âŒ Check if API is running and CORS is configured"),Error("Ğ¡ĞµÑ‚ĞµĞ²Ğ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°: Ğ½Ğµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒÑÑ Ğº API. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ğµ Ğ¸ CORS Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸.");throw e}throw Error("Unknown API error")}}async function l(e){return n("/api/workshops",{headers:e?{"X-Telegram-Init-Data":e}:void 0})}async function i(e,s){return n("/api/ratings",{headers:s?{"X-Telegram-Init-Data":s}:void 0},{type:e})}async function o(e){return n("/api/seasons",{headers:e?{"X-Telegram-Init-Data":e}:void 0})}async function c(e,s,t){return n("/api/ratings/seasonal",{headers:t?{"X-Telegram-Init-Data":t}:void 0},{seasonId:e,type:s})}async function d(e,s,t,a){return n("/api/reviews",{headers:a?{"X-Telegram-Init-Data":a}:void 0},{workshop:e,page:s,limit:t})}async function h(e,s){return n("/api/reviews",{method:"POST",headers:{"X-Telegram-Init-Data":s},body:JSON.stringify(e)})}function u(e){return e?new Date(e).toLocaleDateString("ru-RU"):""}function m(e){if(!e?.themeParams)return;let s=e.themeParams,t=document.documentElement;s.bg_color&&t.style.setProperty("--bg",s.bg_color),s.text_color&&t.style.setProperty("--ink",s.text_color),s.hint_color&&t.style.setProperty("--muted",s.hint_color),s.button_color&&t.style.setProperty("--accent",s.button_color),s.button_text_color&&t.style.setProperty("--tg-button-text",s.button_text_color),s.secondary_bg_color&&t.style.setProperty("--card",s.secondary_bg_color)}function g(){let[e,a]=(0,t.useState)("ratings"),[r,n]=(0,t.useState)(""),[g,x]=(0,t.useState)(null),[v,j]=(0,t.useState)(!0),[p,f]=(0,t.useState)([]),[y,b]=(0,t.useState)(""),[N,w]=(0,t.useState)("overall"),[k,_]=(0,t.useState)([]),[S,E]=(0,t.useState)(""),[P,T]=(0,t.useState)(!1),[A,I]=(0,t.useState)([]),[D,C]=(0,t.useState)("overall"),[R,U]=(0,t.useState)(""),[$,F]=(0,t.useState)([]),[B,O]=(0,t.useState)(""),[L,G]=(0,t.useState)(!1),[X,q]=(0,t.useState)(""),[M,W]=(0,t.useState)([]),[z,H]=(0,t.useState)(0),[J,K]=(0,t.useState)(0),[Q,V]=(0,t.useState)(""),[Y,Z]=(0,t.useState)(!1),[ee,es]=(0,t.useState)(""),[et,ea]=(0,t.useState)(null),[er,en]=(0,t.useState)(null),[el,ei]=(0,t.useState)(""),[eo,ec]=(0,t.useState)(""),[ed,eh]=(0,t.useState)(null),[eu,em]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let e=window.Telegram?.WebApp;if(!e){j(!1),console.log("[DEBUG] Telegram.WebApp not found"),console.log("[DEBUG] Available window.Telegram:",window.Telegram);return}e.ready(),e.expand();let s=e.initData||"",t=e.initDataUnsafe?.user??null,a=function(e){if(!e)return null;let s=new URLSearchParams(e).get("user");if(!s)return null;try{let e=JSON.parse(s);if(!(e&&"object"==typeof e&&"number"==typeof e.id&&(void 0===e.first_name||"string"==typeof e.first_name)&&(void 0===e.last_name||"string"==typeof e.last_name)&&(void 0===e.username||"string"==typeof e.username)&&1))return null;return e}catch(e){return null}}(s);console.log("[DEBUG] Telegram WebApp initialized"),console.log("[DEBUG] initData length:",s.length),console.log("[DEBUG] initData sample:",s.substring(0,100)+(s.length>100?"...":"")),console.log("[DEBUG] initDataUnsafe.user:",t),console.log("[DEBUG] fallbackUser:",a),s||(console.error("[ERROR] initData is empty! This will cause API authentication to fail."),console.error("[ERROR] Possible causes:"),console.error("  1. App opened outside Telegram"),console.error("  2. Telegram.WebApp.initData not available"),console.error("  3. Browser security restrictions")),n(s),x(t||a),m(e);let r=()=>m(e);return e.onEvent?.("themeChanged",r),()=>{e.offEvent?.("themeChanged",r)}},[]),(0,t.useEffect)(()=>{!async function(){try{let e=await fetch("https://service.monopiter.ru/api/health"),s=await e.json();console.log("[API] Health check:",s)}catch(e){console.error("[API] âŒ Health check failed:",e),console.error("[API] âŒ API server may be down or CORS not configured")}}()},[]),(0,t.useEffect)(()=>{async function e(){O("");try{let e=await o(r);e.ok&&(I(e.seasons),!R&&e.seasons.length>0&&U(e.seasons[0].id))}catch(e){O("ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ ÑĞµĞ·Ğ¾Ğ½Ñ‹")}}(async function(){b("");try{let e=await l(r);e.ok&&f(e.workshops)}catch(e){b("ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¼Ğ°ÑÑ‚ĞµÑ€ÑĞºĞ¸Ğµ")}})(),e()},[r]),(0,t.useEffect)(()=>{0!==p.length&&(X||q(p[0].name),ee||es(p[0].name))},[p,X,ee]),(0,t.useEffect)(()=>{!async function(){E(""),T(!0);try{let e=await i(N,r);e.ok&&_(e.workshops)}catch(e){E("ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³")}finally{T(!1)}}()},[N,r]),(0,t.useEffect)(()=>{R&&e();async function e(){O(""),G(!0);try{let e=await c(R,D,r);e.ok&&F(e.workshops)}catch(e){O("ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ ÑĞµĞ·Ğ¾Ğ½Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³")}finally{G(!1)}}},[R,D,r]),(0,t.useEffect)(()=>{X&&e();async function e(){V(""),Z(!0);try{let e=await d(X,z,5,r);e.ok&&(W(e.reviews),K(e.total_pages))}catch(e){V("ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ñ‹")}finally{Z(!1)}}},[X,z,r]);let eg=(0,t.useMemo)(()=>[{key:"overall",label:"ĞĞ±Ñ‰Ğ¸Ğ¹"},{key:"quality",label:"ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾"},{key:"communication",label:"ĞšĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ñ"},{key:"delays",label:"Ğ¡Ñ€Ğ¾ĞºĞ¸"}],[]),ex=(0,t.useMemo)(()=>[{key:"overall",label:"ĞĞ±Ñ‰Ğ¸Ğ¹"},{key:"quality",label:"ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾"},{key:"communication",label:"ĞšĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ñ"},{key:"timing",label:"Ğ¡Ñ€Ğ¾ĞºĞ¸"}],[]);async function ev(){if(eh(null),!r)return void eh({type:"error",message:"ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ Ğ¼Ğ¸Ğ½Ğ¸-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ñ‡ĞµÑ€ĞµĞ· Telegram"});if(!ee||!et||!er||!el)return void eh({type:"error",message:"Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ Ğ²ÑĞµ Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ"});em(!0);try{await h({workshop:ee,qualityRating:et,communicationRating:er,onTime:el,textFeedback:eo},r),eh({type:"success",message:"Ğ¡Ğ¿Ğ°ÑĞ¸Ğ±Ğ¾! ĞÑ‚Ğ·Ñ‹Ğ² Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½."}),ea(null),en(null),ei(""),ec(""),X===ee&&H(0)}catch(s){console.error("[ERROR] Failed to submit review:",s);let e="ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ·Ñ‹Ğ². ";s instanceof Error?s.message.includes("NetworkError")||s.message.includes("Failed to fetch")?e+="Ğ¡ĞµÑ‚ĞµĞ²Ğ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ğµ.":s.message.includes("401")||s.message.includes("unauthorized")?e+="ĞÑˆĞ¸Ğ±ĞºĞ° Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ.":s.message.includes("403")?e+="Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğ·Ğ°Ğ¿Ñ€ĞµÑ‰ĞµĞ½.":e+=`ĞÑˆĞ¸Ğ±ĞºĞ°: ${s.message}`:e+="ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ğ¿Ğ¾Ğ·Ğ¶Ğµ.",eh({type:"error",message:e})}finally{em(!1)}}return(0,s.jsxs)("div",{className:"page",children:[(0,s.jsxs)("header",{className:"hero",children:[(0,s.jsx)("h1",{children:"Ğ ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³ Ğ¼Ğ°ÑÑ‚ĞµÑ€ÑĞºĞ¸Ñ…"}),(0,s.jsx)("p",{children:"Ğ¡Ğ¼Ğ¾Ñ‚Ñ€Ğ¸Ñ‚Ğµ ÑĞ²ĞµĞ¶Ğ¸Ğµ Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³Ğ¸, Ñ‡Ğ¸Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ñ‹ Ğ¸ Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞ¹Ñ‚Ğµ ÑĞ²Ğ¾Ğ¹ Ğ¾Ğ¿Ñ‹Ñ‚ Ğ·Ğ° Ğ¿Ğ°Ñ€Ñƒ ÑˆĞ°Ğ³Ğ¾Ğ²."}),(0,s.jsxs)("div",{className:"meta",children:[(0,s.jsx)("div",{className:"pill",children:"Telegram Mini App"}),(0,s.jsx)("div",{className:"pill",children:g?.first_name?`Ğ’Ñ‹ Ğ²Ğ¾ÑˆĞ»Ğ¸ ĞºĞ°Ğº ${g.first_name}`:"Ğ“Ğ¾ÑÑ‚ÑŒ"}),p.length>0&&(0,s.jsxs)("div",{className:"pill",children:["ĞœĞ°ÑÑ‚ĞµÑ€ÑĞºĞ¸Ñ…: ",p.length]})]})]}),!v&&(0,s.jsx)("div",{className:"section",style:{marginTop:18},children:(0,s.jsxs)("div",{className:"notice",children:["âš ï¸ ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½Ğ¾ Ğ²Ğ½Ğµ Telegram. ĞĞµĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ½Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ.",(0,s.jsx)("br",{}),(0,s.jsx)("small",{children:"Ğ”Ğ»Ñ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ¹ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ Ğ¾Ñ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ Ñ‡ĞµÑ€ĞµĞ· Telegram."})]})}),0===r.length&&(0,s.jsx)("div",{className:"section",style:{marginTop:18},children:(0,s.jsxs)("div",{className:"status error",children:["âŒ ",(0,s.jsx)("strong",{children:"ĞÑˆĞ¸Ğ±ĞºĞ° Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸"}),(0,s.jsx)("br",{}),"ĞÑ‚ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ initData. Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ñ‡Ğ¸Ğ½Ñ‹:",(0,s.jsx)("br",{}),"â€¢ ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ğ¾ Ğ²Ğ½Ğµ Telegram â€¢ ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹ Ñ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒÑ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ° â€¢ Telegram Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ» Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ",(0,s.jsx)("br",{}),(0,s.jsx)("small",{children:"ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ñ‡ĞµÑ€ĞµĞ· Telegram"})]})}),y&&(0,s.jsx)("div",{className:"section",style:{marginTop:18},children:(0,s.jsx)("div",{className:"status error",children:y})}),(0,s.jsxs)("nav",{className:"nav-tabs",children:[(0,s.jsx)("button",{className:"ratings"===e?"active":"",onClick:()=>a("ratings"),children:"Ğ ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³Ğ¸"}),(0,s.jsx)("button",{className:"reviews"===e?"active":"",onClick:()=>a("reviews"),children:"ĞÑ‚Ğ·Ñ‹Ğ²Ñ‹"}),(0,s.jsx)("button",{className:"feedback"===e?"active":"",onClick:()=>a("feedback"),children:"ĞÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ·Ñ‹Ğ²"})]}),"ratings"===e&&(0,s.jsxs)("section",{className:"section",children:[(0,s.jsx)("h2",{children:"ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³Ğ¸"}),(0,s.jsx)("p",{children:"Ğ¡Ñ€Ğ°Ğ²Ğ½Ğ¸Ğ²Ğ°Ğ¹Ñ‚Ğµ Ğ¼Ğ°ÑÑ‚ĞµÑ€ÑĞºĞ¸Ğµ Ğ¿Ğ¾ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğ¼ ĞºÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸ÑĞ¼."}),(0,s.jsx)("div",{className:"segmented",children:eg.map(e=>(0,s.jsx)("button",{className:N===e.key?"active":"",onClick:()=>w(e.key),children:e.label},e.key))}),S&&(0,s.jsx)("div",{className:"status error",children:S}),P?(0,s.jsx)("div",{className:"notice",children:"Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³..."}):(0,s.jsx)("div",{className:"grid",children:k.map((e,t)=>(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h3",{children:e.name}),(0,s.jsx)("div",{className:"stat",children:e.address}),(0,s.jsx)("div",{className:"stat",children:e.description}),"overall"===N&&"overall_rating"in e?(0,s.jsxs)("div",{className:"badge",children:["ğŸ† ",e.overall_rating.toFixed(2)]}):null,(0,s.jsxs)("div",{className:"stat",children:["â­ï¸ ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾: ",e.avg_quality.toFixed(2)," / 5"]}),(0,s.jsxs)("div",{className:"stat",children:["ğŸ’¬ ĞšĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ñ: ",e.avg_communication.toFixed(2)," / 5"]}),(0,s.jsxs)("div",{className:"stat",children:["â° Ğ’Ğ¾Ğ²Ñ€ĞµĞ¼Ñ: ",e.on_time_percentage.toFixed(1),"%"]}),(0,s.jsxs)("div",{className:"stat",children:["ğŸ“ ĞÑ‚Ğ·Ñ‹Ğ²Ğ¾Ğ²: ",e.total_reviews]})]},`${e.name}-${t}`))}),(0,s.jsx)("div",{style:{height:24}}),(0,s.jsx)("h2",{children:"Ğ¡ĞµĞ·Ğ¾Ğ½Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³"}),(0,s.jsx)("p",{children:"Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞµĞ·Ğ¾Ğ½ Ğ¸ Ğ¾Ñ†ĞµĞ½Ğ¸Ñ‚Ğµ Ğ»Ğ¸Ğ´ĞµÑ€Ğ¾Ğ² Ğ¿ĞµÑ€Ğ¸Ğ¾Ğ´Ğ°."}),(0,s.jsxs)("div",{className:"field",children:[(0,s.jsx)("label",{children:"Ğ¡ĞµĞ·Ğ¾Ğ½"}),(0,s.jsx)("select",{value:R,onChange:e=>U(e.target.value),children:A.map(e=>{let t,a;return(0,s.jsxs)("option",{value:e.id,children:[e.name," (",(t=e.start_date?u(e.start_date):"â€”",a=e.end_date?u(e.end_date):"Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹",`${t} â€” ${a}`),")"]},e.id)})})]}),(0,s.jsx)("div",{className:"segmented",style:{marginTop:12},children:ex.map(e=>(0,s.jsx)("button",{className:D===e.key?"active":"",onClick:()=>C(e.key),children:e.label},e.key))}),B&&(0,s.jsx)("div",{className:"status error",children:B}),L?(0,s.jsx)("div",{className:"notice",children:"Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ ÑĞµĞ·Ğ¾Ğ½Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³..."}):(0,s.jsx)("div",{className:"grid",children:$.map((e,t)=>(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h3",{children:e.name}),"overall"===D&&"overall_rating"in e?(0,s.jsxs)("div",{className:"badge",children:["ğŸ† ",e.overall_rating.toFixed(2)]}):null,(0,s.jsxs)("div",{className:"stat",children:["â­ï¸ ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾: ",e.avg_quality.toFixed(2)," / 5"]}),(0,s.jsxs)("div",{className:"stat",children:["ğŸ’¬ ĞšĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ñ: ",e.avg_communication.toFixed(2)," / 5"]}),(0,s.jsxs)("div",{className:"stat",children:["â° Ğ’Ğ¾Ğ²Ñ€ĞµĞ¼Ñ: ",e.on_time_percentage.toFixed(1),"%"]}),(0,s.jsxs)("div",{className:"stat",children:["ğŸ“ ĞÑ‚Ğ·Ñ‹Ğ²Ğ¾Ğ²: ",e.total_reviews]})]},`${e.name}-${t}`))})]}),"reviews"===e&&(0,s.jsxs)("section",{className:"section",children:[(0,s.jsx)("h2",{children:"ĞÑ‚Ğ·Ñ‹Ğ²Ñ‹ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²"}),(0,s.jsx)("p",{children:"Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¼Ğ°ÑÑ‚ĞµÑ€ÑĞºÑƒÑ Ğ¸ Ğ»Ğ¸ÑÑ‚Ğ°Ğ¹Ñ‚Ğµ Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ñ‹."}),(0,s.jsxs)("div",{className:"field",children:[(0,s.jsx)("label",{children:"ĞœĞ°ÑÑ‚ĞµÑ€ÑĞºĞ°Ñ"}),(0,s.jsx)("select",{value:X,onChange:e=>{q(e.target.value),H(0)},children:p.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.name))})]}),Q&&(0,s.jsx)("div",{className:"status error",children:Q}),Y?(0,s.jsx)("div",{className:"notice",children:"Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ñ‹..."}):(0,s.jsxs)("div",{className:"reviews",children:[0===M.length&&(0,s.jsx)("div",{className:"notice",children:"ĞŸĞ¾ĞºĞ° Ğ½ĞµÑ‚ Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ğ¾Ğ² Ğ´Ğ»Ñ ÑÑ‚Ğ¾Ğ¹ Ğ¼Ğ°ÑÑ‚ĞµÑ€ÑĞºĞ¾Ğ¹."}),M.map(e=>(0,s.jsxs)("div",{className:"review-card",children:[(0,s.jsxs)("div",{className:"meta",children:[u(e.created_at)," Â· â­ï¸ ",e.quality_rating,"/5 Â· ğŸ’¬ ",e.communication_rating,"/5 Â· â° ",e.on_time]}),(0,s.jsx)("div",{children:e.text_feedback})]},e.id))]}),(0,s.jsxs)("div",{className:"pagination",children:[(0,s.jsx)("button",{disabled:z<=0,onClick:()=>H(e=>Math.max(e-1,0)),children:"ĞĞ°Ğ·Ğ°Ğ´"}),(0,s.jsx)("button",{disabled:z+1>=J,onClick:()=>H(e=>e+1),children:"Ğ’Ğ¿ĞµÑ€ĞµĞ´"})]})]}),"feedback"===e&&(0,s.jsxs)("section",{className:"section",children:[(0,s.jsx)("h2",{children:"ĞÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ·Ñ‹Ğ²"}),(0,s.jsx)("p",{children:"ĞŸĞ°Ñ€Ğ° Ğ¼Ğ¸Ğ½ÑƒÑ‚ â€” Ğ¸ Ğ²Ğ°Ñˆ Ğ¾Ñ‚Ğ·Ñ‹Ğ² Ğ¿Ğ¾Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼."}),(0,s.jsxs)("form",{className:"form",onSubmit:e=>{e.preventDefault(),ev()},children:[(0,s.jsxs)("div",{className:"field",children:[(0,s.jsx)("label",{children:"ĞœĞ°ÑÑ‚ĞµÑ€ÑĞºĞ°Ñ"}),(0,s.jsx)("select",{value:ee,onChange:e=>es(e.target.value),children:p.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.name))})]}),(0,s.jsxs)("div",{className:"field",children:[(0,s.jsx)("label",{children:"ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹"}),(0,s.jsx)("div",{className:"rating-row",children:[1,2,3,4,5].map(e=>(0,s.jsx)("button",{type:"button",className:et===e?"active":"",onClick:()=>ea(e),children:e},`quality-${e}`))})]}),(0,s.jsxs)("div",{className:"field",children:[(0,s.jsx)("label",{children:"ĞšĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ñ"}),(0,s.jsx)("div",{className:"rating-row",children:[1,2,3,4,5].map(e=>(0,s.jsx)("button",{type:"button",className:er===e?"active":"",onClick:()=>en(e),children:e},`communication-${e}`))})]}),(0,s.jsxs)("div",{className:"field",children:[(0,s.jsx)("label",{children:"Ğ ĞµĞ¼Ğ¾Ğ½Ñ‚ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½ Ğ²Ğ¾Ğ²Ñ€ĞµĞ¼Ñ?"}),(0,s.jsxs)("div",{className:"toggle",children:[(0,s.jsx)("button",{type:"button",className:"Ğ”Ğ°"===el?"active":"",onClick:()=>ei("Ğ”Ğ°"),children:"Ğ”Ğ°"}),(0,s.jsx)("button",{type:"button",className:"ĞĞµÑ‚"===el?"active":"",onClick:()=>ei("ĞĞµÑ‚"),children:"ĞĞµÑ‚"})]})]}),(0,s.jsxs)("div",{className:"field",children:[(0,s.jsx)("label",{children:"ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¹ (Ğ½ĞµĞ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾)"}),(0,s.jsx)("textarea",{maxLength:1e3,value:eo,onChange:e=>ec(e.target.value),placeholder:"Ğ§Ñ‚Ğ¾ Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ Ğ¿Ğ¾Ğ½Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ¾ÑÑŒ?"}),(0,s.jsxs)("div",{className:"stat",children:[eo.length," / ",1e3]})]}),ed&&(0,s.jsx)("div",{className:`status ${ed.type}`,children:ed.message}),(0,s.jsx)("button",{className:"primary",type:"submit",disabled:eu,children:eu?"ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼...":"ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ·Ñ‹Ğ²"})]})]})]})}e.s(["default",()=>g],70625)}]);