module.exports=[99144,a=>{"use strict";var b=a.i(95004),c=a.i(93205);let d=new Set(["localhost","127.0.0.1","::1"]),e=function(a){if(!a)return"";try{let b=new URL(a),c=d.has(b.hostname);return!b.port&&c&&(b.port=String(5800)),b.toString().replace(/\/$/,"")}catch(b){return a}}("https://service.monopiter.ru");async function f(a,b={},c){let d;if(!e){let a="API base URL is not configured. Check NEXT_PUBLIC_API_BASE_URL in webapp/.env.local";throw console.error("[API] âŒ",a),Error(a)}let g=(d=new URL(a,e),c&&Object.entries(c).forEach(([a,b])=>{void 0!==b&&""!==b&&d.searchParams.set(a,String(b))}),d.toString()),h={"Content-Type":"application/json",...b.headers??{}},i=h["X-Telegram-Init-Data"];console.log("[API] ğŸš€ Request:",{url:g,method:b.method||"GET",hasInitData:!!i,initDataLength:i?i.length:0});try{let a=await fetch(g,{...b,headers:h});if(console.log("[API] Response:",{status:a.status,statusText:a.statusText,ok:a.ok}),!a.ok){let b=await a.json().catch(()=>({error:"Failed to parse error response"}));if(console.error("[API] âŒ Error response:",b),401===a.status)throw Error("401: Unauthorized - Invalid or expired initData");if(403===a.status)throw Error("403: Forbidden - Access denied");if(404===a.status)throw Error("404: Not found - API endpoint does not exist");else if(a.status>=500)throw Error(`${a.status}: Server error - Please try again later`);throw Error(b?.error||`API error ${a.status}`)}let c=await a.json();return console.log("[API] âœ… Success:",{data:c}),c}catch(a){if(a instanceof Error){if(a.message.includes("Failed to fetch"))throw console.error("[API] âŒ Network error - Cannot reach API server"),console.error("[API] âŒ Check if API is running and CORS is configured"),Error("Ğ¡ĞµÑ‚ĞµĞ²Ğ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°: Ğ½Ğµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒÑÑ Ğº API. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ğµ Ğ¸ CORS Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸.");throw a}throw Error("Unknown API error")}}async function g(a){return f("/api/workshops",{headers:a?{"X-Telegram-Init-Data":a}:void 0})}async function h(a,b){return f("/api/ratings",{headers:b?{"X-Telegram-Init-Data":b}:void 0},{type:a})}async function i(a){return f("/api/seasons",{headers:a?{"X-Telegram-Init-Data":a}:void 0})}async function j(a,b,c){return f("/api/ratings/seasonal",{headers:c?{"X-Telegram-Init-Data":c}:void 0},{seasonId:a,type:b})}async function k(a,b,c,d){return f("/api/reviews",{headers:d?{"X-Telegram-Init-Data":d}:void 0},{workshop:a,page:b,limit:c})}async function l(a,b){return f("/api/reviews",{method:"POST",headers:{"X-Telegram-Init-Data":b},body:JSON.stringify(a)})}function m(a){return a?new Date(a).toLocaleDateString("ru-RU"):""}function n(a){if(!a?.themeParams)return;let b=a.themeParams,c=document.documentElement;b.bg_color&&c.style.setProperty("--bg",b.bg_color),b.text_color&&c.style.setProperty("--ink",b.text_color),b.hint_color&&c.style.setProperty("--muted",b.hint_color),b.button_color&&c.style.setProperty("--accent",b.button_color),b.button_text_color&&c.style.setProperty("--tg-button-text",b.button_text_color),b.secondary_bg_color&&c.style.setProperty("--card",b.secondary_bg_color)}function o(){let[a,d]=(0,c.useState)("ratings"),[e,f]=(0,c.useState)(""),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)("overall"),[y,z]=(0,c.useState)([]),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)([]),[G,H]=(0,c.useState)("overall"),[I,J]=(0,c.useState)(""),[K,L]=(0,c.useState)([]),[M,N]=(0,c.useState)(""),[O,P]=(0,c.useState)(!1),[Q,R]=(0,c.useState)(""),[S,T]=(0,c.useState)([]),[U,V]=(0,c.useState)(0),[W,X]=(0,c.useState)(0),[Y,Z]=(0,c.useState)(""),[$,_]=(0,c.useState)(!1),[aa,ab]=(0,c.useState)(""),[ac,ad]=(0,c.useState)(null),[ae,af]=(0,c.useState)(null),[ag,ah]=(0,c.useState)(""),[ai,aj]=(0,c.useState)(""),[ak,al]=(0,c.useState)(null),[am,an]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=window.Telegram?.WebApp;if(!a){r(!1),console.log("[DEBUG] Telegram.WebApp not found"),console.log("[DEBUG] Available window.Telegram:",window.Telegram);return}a.ready(),a.expand();let b=a.initData||"",c=a.initDataUnsafe?.user??null,d=function(a){if(!a)return null;let b=new URLSearchParams(a).get("user");if(!b)return null;try{let a=JSON.parse(b);if(!(a&&"object"==typeof a&&"number"==typeof a.id&&(void 0===a.first_name||"string"==typeof a.first_name)&&(void 0===a.last_name||"string"==typeof a.last_name)&&(void 0===a.username||"string"==typeof a.username)&&1))return null;return a}catch(a){return null}}(b);console.log("[DEBUG] Telegram WebApp initialized"),console.log("[DEBUG] initData length:",b.length),console.log("[DEBUG] initData sample:",b.substring(0,100)+(b.length>100?"...":"")),console.log("[DEBUG] initDataUnsafe.user:",c),console.log("[DEBUG] fallbackUser:",d),b||(console.error("[ERROR] initData is empty! This will cause API authentication to fail."),console.error("[ERROR] Possible causes:"),console.error("  1. App opened outside Telegram"),console.error("  2. Telegram.WebApp.initData not available"),console.error("  3. Browser security restrictions")),f(b),p(c||d),n(a);let e=()=>n(a);return a.onEvent?.("themeChanged",e),()=>{a.offEvent?.("themeChanged",e)}},[]),(0,c.useEffect)(()=>{!async function(){try{let a=await fetch("https://service.monopiter.ru/api/health"),b=await a.json();console.log("[API] Health check:",b)}catch(a){console.error("[API] âŒ Health check failed:",a),console.error("[API] âŒ API server may be down or CORS not configured")}}()},[]),(0,c.useEffect)(()=>{async function a(){N("");try{let a=await i(e);a.ok&&(F(a.seasons),!I&&a.seasons.length>0&&J(a.seasons[0].id))}catch(a){N("ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ ÑĞµĞ·Ğ¾Ğ½Ñ‹")}}(async function(){v("");try{let a=await g(e);a.ok&&t(a.workshops)}catch(a){v("ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¼Ğ°ÑÑ‚ĞµÑ€ÑĞºĞ¸Ğµ")}})(),a()},[e]),(0,c.useEffect)(()=>{0!==s.length&&(Q||R(s[0].name),aa||ab(s[0].name))},[s,Q,aa]),(0,c.useEffect)(()=>{!async function(){B(""),D(!0);try{let a=await h(w,e);a.ok&&z(a.workshops)}catch(a){B("ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³")}finally{D(!1)}}()},[w,e]),(0,c.useEffect)(()=>{I&&a();async function a(){N(""),P(!0);try{let a=await j(I,G,e);a.ok&&L(a.workshops)}catch(a){N("ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ ÑĞµĞ·Ğ¾Ğ½Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³")}finally{P(!1)}}},[I,G,e]),(0,c.useEffect)(()=>{Q&&a();async function a(){Z(""),_(!0);try{let a=await k(Q,U,5,e);a.ok&&(T(a.reviews),X(a.total_pages))}catch(a){Z("ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ñ‹")}finally{_(!1)}}},[Q,U,e]);let ao=(0,c.useMemo)(()=>[{key:"overall",label:"ĞĞ±Ñ‰Ğ¸Ğ¹"},{key:"quality",label:"ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾"},{key:"communication",label:"ĞšĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ñ"},{key:"delays",label:"Ğ¡Ñ€Ğ¾ĞºĞ¸"}],[]),ap=(0,c.useMemo)(()=>[{key:"overall",label:"ĞĞ±Ñ‰Ğ¸Ğ¹"},{key:"quality",label:"ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾"},{key:"communication",label:"ĞšĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ñ"},{key:"timing",label:"Ğ¡Ñ€Ğ¾ĞºĞ¸"}],[]);async function aq(){if(al(null),!e)return void al({type:"error",message:"ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ Ğ¼Ğ¸Ğ½Ğ¸-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ñ‡ĞµÑ€ĞµĞ· Telegram"});if(!aa||!ac||!ae||!ag)return void al({type:"error",message:"Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ Ğ²ÑĞµ Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ"});an(!0);try{await l({workshop:aa,qualityRating:ac,communicationRating:ae,onTime:ag,textFeedback:ai},e),al({type:"success",message:"Ğ¡Ğ¿Ğ°ÑĞ¸Ğ±Ğ¾! ĞÑ‚Ğ·Ñ‹Ğ² Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½."}),ad(null),af(null),ah(""),aj(""),Q===aa&&V(0)}catch(b){console.error("[ERROR] Failed to submit review:",b);let a="ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ·Ñ‹Ğ². ";b instanceof Error?b.message.includes("NetworkError")||b.message.includes("Failed to fetch")?a+="Ğ¡ĞµÑ‚ĞµĞ²Ğ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ğµ.":b.message.includes("401")||b.message.includes("unauthorized")?a+="ĞÑˆĞ¸Ğ±ĞºĞ° Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ.":b.message.includes("403")?a+="Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğ·Ğ°Ğ¿Ñ€ĞµÑ‰ĞµĞ½.":a+=`ĞÑˆĞ¸Ğ±ĞºĞ°: ${b.message}`:a+="ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ğ¿Ğ¾Ğ·Ğ¶Ğµ.",al({type:"error",message:a})}finally{an(!1)}}return(0,b.jsxs)("div",{className:"page",children:[(0,b.jsxs)("header",{className:"hero",children:[(0,b.jsx)("h1",{children:"Ğ ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³ Ğ¼Ğ°ÑÑ‚ĞµÑ€ÑĞºĞ¸Ñ…"}),(0,b.jsx)("p",{children:"Ğ¡Ğ¼Ğ¾Ñ‚Ñ€Ğ¸Ñ‚Ğµ ÑĞ²ĞµĞ¶Ğ¸Ğµ Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³Ğ¸, Ñ‡Ğ¸Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ñ‹ Ğ¸ Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞ¹Ñ‚Ğµ ÑĞ²Ğ¾Ğ¹ Ğ¾Ğ¿Ñ‹Ñ‚ Ğ·Ğ° Ğ¿Ğ°Ñ€Ñƒ ÑˆĞ°Ğ³Ğ¾Ğ²."}),(0,b.jsxs)("div",{className:"meta",children:[(0,b.jsx)("div",{className:"pill",children:"Telegram Mini App"}),(0,b.jsx)("div",{className:"pill",children:o?.first_name?`Ğ’Ñ‹ Ğ²Ğ¾ÑˆĞ»Ğ¸ ĞºĞ°Ğº ${o.first_name}`:"Ğ“Ğ¾ÑÑ‚ÑŒ"}),s.length>0&&(0,b.jsxs)("div",{className:"pill",children:["ĞœĞ°ÑÑ‚ĞµÑ€ÑĞºĞ¸Ñ…: ",s.length]})]})]}),!q&&(0,b.jsx)("div",{className:"section",style:{marginTop:18},children:(0,b.jsxs)("div",{className:"notice",children:["âš ï¸ ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½Ğ¾ Ğ²Ğ½Ğµ Telegram. ĞĞµĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ½Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ.",(0,b.jsx)("br",{}),(0,b.jsx)("small",{children:"Ğ”Ğ»Ñ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ¹ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ Ğ¾Ñ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ Ñ‡ĞµÑ€ĞµĞ· Telegram."})]})}),0===e.length&&(0,b.jsx)("div",{className:"section",style:{marginTop:18},children:(0,b.jsxs)("div",{className:"status error",children:["âŒ ",(0,b.jsx)("strong",{children:"ĞÑˆĞ¸Ğ±ĞºĞ° Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸"}),(0,b.jsx)("br",{}),"ĞÑ‚ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ initData. Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ñ‡Ğ¸Ğ½Ñ‹:",(0,b.jsx)("br",{}),"â€¢ ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ğ¾ Ğ²Ğ½Ğµ Telegram â€¢ ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹ Ñ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒÑ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ° â€¢ Telegram Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ» Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ",(0,b.jsx)("br",{}),(0,b.jsx)("small",{children:"ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ñ‡ĞµÑ€ĞµĞ· Telegram"})]})}),u&&(0,b.jsx)("div",{className:"section",style:{marginTop:18},children:(0,b.jsx)("div",{className:"status error",children:u})}),(0,b.jsxs)("nav",{className:"nav-tabs",children:[(0,b.jsx)("button",{className:"ratings"===a?"active":"",onClick:()=>d("ratings"),children:"Ğ ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³Ğ¸"}),(0,b.jsx)("button",{className:"reviews"===a?"active":"",onClick:()=>d("reviews"),children:"ĞÑ‚Ğ·Ñ‹Ğ²Ñ‹"}),(0,b.jsx)("button",{className:"feedback"===a?"active":"",onClick:()=>d("feedback"),children:"ĞÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ·Ñ‹Ğ²"})]}),"ratings"===a&&(0,b.jsxs)("section",{className:"section",children:[(0,b.jsx)("h2",{children:"ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³Ğ¸"}),(0,b.jsx)("p",{children:"Ğ¡Ñ€Ğ°Ğ²Ğ½Ğ¸Ğ²Ğ°Ğ¹Ñ‚Ğµ Ğ¼Ğ°ÑÑ‚ĞµÑ€ÑĞºĞ¸Ğµ Ğ¿Ğ¾ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğ¼ ĞºÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸ÑĞ¼."}),(0,b.jsx)("div",{className:"segmented",children:ao.map(a=>(0,b.jsx)("button",{className:w===a.key?"active":"",onClick:()=>x(a.key),children:a.label},a.key))}),A&&(0,b.jsx)("div",{className:"status error",children:A}),C?(0,b.jsx)("div",{className:"notice",children:"Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³..."}):(0,b.jsx)("div",{className:"grid",children:y.map((a,c)=>(0,b.jsxs)("div",{className:"card",children:[(0,b.jsx)("h3",{children:a.name}),(0,b.jsx)("div",{className:"stat",children:a.address}),(0,b.jsx)("div",{className:"stat",children:a.description}),"overall"===w&&"overall_rating"in a?(0,b.jsxs)("div",{className:"badge",children:["ğŸ† ",a.overall_rating.toFixed(2)]}):null,(0,b.jsxs)("div",{className:"stat",children:["â­ï¸ ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾: ",a.avg_quality.toFixed(2)," / 5"]}),(0,b.jsxs)("div",{className:"stat",children:["ğŸ’¬ ĞšĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ñ: ",a.avg_communication.toFixed(2)," / 5"]}),(0,b.jsxs)("div",{className:"stat",children:["â° Ğ’Ğ¾Ğ²Ñ€ĞµĞ¼Ñ: ",a.on_time_percentage.toFixed(1),"%"]}),(0,b.jsxs)("div",{className:"stat",children:["ğŸ“ ĞÑ‚Ğ·Ñ‹Ğ²Ğ¾Ğ²: ",a.total_reviews]})]},`${a.name}-${c}`))}),(0,b.jsx)("div",{style:{height:24}}),(0,b.jsx)("h2",{children:"Ğ¡ĞµĞ·Ğ¾Ğ½Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³"}),(0,b.jsx)("p",{children:"Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞµĞ·Ğ¾Ğ½ Ğ¸ Ğ¾Ñ†ĞµĞ½Ğ¸Ñ‚Ğµ Ğ»Ğ¸Ğ´ĞµÑ€Ğ¾Ğ² Ğ¿ĞµÑ€Ğ¸Ğ¾Ğ´Ğ°."}),(0,b.jsxs)("div",{className:"field",children:[(0,b.jsx)("label",{children:"Ğ¡ĞµĞ·Ğ¾Ğ½"}),(0,b.jsx)("select",{value:I,onChange:a=>J(a.target.value),children:E.map(a=>{let c,d;return(0,b.jsxs)("option",{value:a.id,children:[a.name," (",(c=a.start_date?m(a.start_date):"â€”",d=a.end_date?m(a.end_date):"Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹",`${c} â€” ${d}`),")"]},a.id)})})]}),(0,b.jsx)("div",{className:"segmented",style:{marginTop:12},children:ap.map(a=>(0,b.jsx)("button",{className:G===a.key?"active":"",onClick:()=>H(a.key),children:a.label},a.key))}),M&&(0,b.jsx)("div",{className:"status error",children:M}),O?(0,b.jsx)("div",{className:"notice",children:"Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ ÑĞµĞ·Ğ¾Ğ½Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³..."}):(0,b.jsx)("div",{className:"grid",children:K.map((a,c)=>(0,b.jsxs)("div",{className:"card",children:[(0,b.jsx)("h3",{children:a.name}),"overall"===G&&"overall_rating"in a?(0,b.jsxs)("div",{className:"badge",children:["ğŸ† ",a.overall_rating.toFixed(2)]}):null,(0,b.jsxs)("div",{className:"stat",children:["â­ï¸ ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾: ",a.avg_quality.toFixed(2)," / 5"]}),(0,b.jsxs)("div",{className:"stat",children:["ğŸ’¬ ĞšĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ñ: ",a.avg_communication.toFixed(2)," / 5"]}),(0,b.jsxs)("div",{className:"stat",children:["â° Ğ’Ğ¾Ğ²Ñ€ĞµĞ¼Ñ: ",a.on_time_percentage.toFixed(1),"%"]}),(0,b.jsxs)("div",{className:"stat",children:["ğŸ“ ĞÑ‚Ğ·Ñ‹Ğ²Ğ¾Ğ²: ",a.total_reviews]})]},`${a.name}-${c}`))})]}),"reviews"===a&&(0,b.jsxs)("section",{className:"section",children:[(0,b.jsx)("h2",{children:"ĞÑ‚Ğ·Ñ‹Ğ²Ñ‹ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²"}),(0,b.jsx)("p",{children:"Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¼Ğ°ÑÑ‚ĞµÑ€ÑĞºÑƒÑ Ğ¸ Ğ»Ğ¸ÑÑ‚Ğ°Ğ¹Ñ‚Ğµ Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ñ‹."}),(0,b.jsxs)("div",{className:"field",children:[(0,b.jsx)("label",{children:"ĞœĞ°ÑÑ‚ĞµÑ€ÑĞºĞ°Ñ"}),(0,b.jsx)("select",{value:Q,onChange:a=>{R(a.target.value),V(0)},children:s.map(a=>(0,b.jsx)("option",{value:a.name,children:a.name},a.name))})]}),Y&&(0,b.jsx)("div",{className:"status error",children:Y}),$?(0,b.jsx)("div",{className:"notice",children:"Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ñ‹..."}):(0,b.jsxs)("div",{className:"reviews",children:[0===S.length&&(0,b.jsx)("div",{className:"notice",children:"ĞŸĞ¾ĞºĞ° Ğ½ĞµÑ‚ Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ğ¾Ğ² Ğ´Ğ»Ñ ÑÑ‚Ğ¾Ğ¹ Ğ¼Ğ°ÑÑ‚ĞµÑ€ÑĞºĞ¾Ğ¹."}),S.map(a=>(0,b.jsxs)("div",{className:"review-card",children:[(0,b.jsxs)("div",{className:"meta",children:[m(a.created_at)," Â· â­ï¸ ",a.quality_rating,"/5 Â· ğŸ’¬ ",a.communication_rating,"/5 Â· â° ",a.on_time]}),(0,b.jsx)("div",{children:a.text_feedback})]},a.id))]}),(0,b.jsxs)("div",{className:"pagination",children:[(0,b.jsx)("button",{disabled:U<=0,onClick:()=>V(a=>Math.max(a-1,0)),children:"ĞĞ°Ğ·Ğ°Ğ´"}),(0,b.jsx)("button",{disabled:U+1>=W,onClick:()=>V(a=>a+1),children:"Ğ’Ğ¿ĞµÑ€ĞµĞ´"})]})]}),"feedback"===a&&(0,b.jsxs)("section",{className:"section",children:[(0,b.jsx)("h2",{children:"ĞÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ·Ñ‹Ğ²"}),(0,b.jsx)("p",{children:"ĞŸĞ°Ñ€Ğ° Ğ¼Ğ¸Ğ½ÑƒÑ‚ â€” Ğ¸ Ğ²Ğ°Ñˆ Ğ¾Ñ‚Ğ·Ñ‹Ğ² Ğ¿Ğ¾Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼."}),(0,b.jsxs)("form",{className:"form",onSubmit:a=>{a.preventDefault(),aq()},children:[(0,b.jsxs)("div",{className:"field",children:[(0,b.jsx)("label",{children:"ĞœĞ°ÑÑ‚ĞµÑ€ÑĞºĞ°Ñ"}),(0,b.jsx)("select",{value:aa,onChange:a=>ab(a.target.value),children:s.map(a=>(0,b.jsx)("option",{value:a.name,children:a.name},a.name))})]}),(0,b.jsxs)("div",{className:"field",children:[(0,b.jsx)("label",{children:"ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹"}),(0,b.jsx)("div",{className:"rating-row",children:[1,2,3,4,5].map(a=>(0,b.jsx)("button",{type:"button",className:ac===a?"active":"",onClick:()=>ad(a),children:a},`quality-${a}`))})]}),(0,b.jsxs)("div",{className:"field",children:[(0,b.jsx)("label",{children:"ĞšĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ñ"}),(0,b.jsx)("div",{className:"rating-row",children:[1,2,3,4,5].map(a=>(0,b.jsx)("button",{type:"button",className:ae===a?"active":"",onClick:()=>af(a),children:a},`communication-${a}`))})]}),(0,b.jsxs)("div",{className:"field",children:[(0,b.jsx)("label",{children:"Ğ ĞµĞ¼Ğ¾Ğ½Ñ‚ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½ Ğ²Ğ¾Ğ²Ñ€ĞµĞ¼Ñ?"}),(0,b.jsxs)("div",{className:"toggle",children:[(0,b.jsx)("button",{type:"button",className:"Ğ”Ğ°"===ag?"active":"",onClick:()=>ah("Ğ”Ğ°"),children:"Ğ”Ğ°"}),(0,b.jsx)("button",{type:"button",className:"ĞĞµÑ‚"===ag?"active":"",onClick:()=>ah("ĞĞµÑ‚"),children:"ĞĞµÑ‚"})]})]}),(0,b.jsxs)("div",{className:"field",children:[(0,b.jsx)("label",{children:"ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¹ (Ğ½ĞµĞ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾)"}),(0,b.jsx)("textarea",{maxLength:1e3,value:ai,onChange:a=>aj(a.target.value),placeholder:"Ğ§Ñ‚Ğ¾ Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ Ğ¿Ğ¾Ğ½Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ¾ÑÑŒ?"}),(0,b.jsxs)("div",{className:"stat",children:[ai.length," / ",1e3]})]}),ak&&(0,b.jsx)("div",{className:`status ${ak.type}`,children:ak.message}),(0,b.jsx)("button",{className:"primary",type:"submit",disabled:am,children:am?"ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼...":"ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ·Ñ‹Ğ²"})]})]})]})}a.s(["default",()=>o],99144)}];

//# sourceMappingURL=webapp_app_page_tsx_eba93967._.js.map